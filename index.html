<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Pawmart – Home</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body class="background">
    <!-- Banner -->
    <header class="banner">
        <img class="logo" src="images/pawmart.png" alt="Pawmart Logo" />
        <h1 class="banner-title">Welcome to Pawmart!</h1>
    </header>

    <nav>
        <div>
            <a href="Homepage.html" id="nav-btn-homepage" class="nav-btn">Home</a>
            <a href="profile.html" id="nav-btn-customer" class="nav-btn" style="display:none;">Profile</a>
            <a href="admin-users.html" id="nav-btn-admin" class="nav-btn" style="display:none;">Admin Users</a>
            <a href="products.html" id="nav-btn-products" class="nav-btn">Products</a>
            <a href="about.html" class="nav-btn">About</a>
            <a href="contact.html" class="nav-btn">Contact</a>
            <a href="cart.html" class="nav-btn">Cart</a>
            <a href="sign-in.html" id="nav-btn-signin" class="nav-btn">Sign in</a>
            <a href="sign-up.html" id="nav-btn-signup" class="nav-btn">Sign Up</a>
            <button id="nav-btn-logout" class="nav-btn" style="display:none;">Log Out</button>
        </div>
    </nav>

    <!-- Main content -->
    <main class="home-wrapper">
        <section class="home-hero">
            <h2 class="home-title">Your One-Stop Hub for Pet Lovers</h2>
            <p class="home-subtitle">
                Manage your account, keep your pet's info safe, and explore all that Pawmart has to offer.
            </p>

            <div class="home-actions">
                <!-- Logged OUT -->
                <a href="sign-in.html" id="btn-signin" class="home-btn primary">Go to Sign In</a>
                <a href="sign-up.html" id="btn-signup" class="home-btn secondary">Create an Account</a>

                <!-- Logged IN -->
                <a href="admin-users.html" id="btn-admin" class="home-btn primary" style="display:none;">
                    Admin – Manage Users
                </a>
                <a href="profile.html" id="btn-customer" class="home-btn secondary" style="display:none;">
                    View My Profile
                </a>
                <button id="btn-logout" class="home-btn secondary" style="display:none;">
                    Log Out
                </button>
            </div>

            <p id="home-status" class="home-status"></p>
        </section>

        <section class="home-features">
            <div class="feature-card">
                <h3>Secure Login</h3>
                <p>Your account is protected with encrypted passwords and secure tokens.</p>
            </div>
            <div class="feature-card">
                <h3>Easy Access</h3>
                <p>Sign in from anywhere to manage your profile and your pet's information.</p>
            </div>
            <div class="feature-card">
                <h3>Fast Recovery</h3>
                <p>Forgot your password? Use your security answer to reset it in seconds.</p>
            </div>
        </section>
    </main>

    <!-- HERO BUTTON LOGIN STATE LOGIC (only for the big buttons on the page) -->
    <script>
        const statusEl = document.getElementById("home-status");
        const btnSignin = document.getElementById("btn-signin");
        const btnSignup = document.getElementById("btn-signup");
        const btnAdmin = document.getElementById("btn-admin");
        const btnCustomer = document.getElementById("btn-customer");
        const btnLogout = document.getElementById("btn-logout");

        const token = localStorage.getItem("token");
        const role = localStorage.getItem("role") || "customer";

        function showHeroLoggedOut() {
            if (statusEl) {
                statusEl.textContent = "You are not logged in yet. Sign in or create an account to continue.";
                statusEl.style.color = "#3d43e1";
            }
            btnSignin.style.display = "inline-block";
            btnSignup.style.display = "inline-block";
            btnAdmin.style.display = "none";
            btnCustomer.style.display = "none";
            btnLogout.style.display = "none";
        }

        function showHeroLoggedIn(role) {
            if (statusEl) {
                statusEl.textContent = `You are logged in as ${role}. Enjoy exploring Pawmart!`;
                statusEl.style.color = "green";
            }
            btnSignin.style.display = "none";
            btnSignup.style.display = "none";

            if (role === "admin") {
                btnAdmin.style.display = "inline-block";
                btnCustomer.style.display = "none";
            } else {
                btnAdmin.style.display = "none";
                btnCustomer.style.display = "inline-block";
            }

            btnLogout.style.display = "inline-block";
        }

        // Run initial logic
        if (!token) {
            showHeroLoggedOut();
        } else {
            showHeroLoggedIn(role);
        }

        // Hero Logout button
        btnLogout.addEventListener("click", () => {
            localStorage.removeItem("token");
            localStorage.removeItem("role");
            window.location.href = "sign-in.html";
        });
    </script>

    <!-- GLOBAL NAV / LOGOUT CONTROLLER -->
    <script src="auth.js"></script>
</body>
</html>
